{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nexport const searchImages = text => {\n  const options = {\n    method: 'get',\n  };\n  const params = new URLSearchParams({\n    key: '48321806-d480a24496502db5d22ba5dda',\n    image_type: 'photo',\n    orientation: 'hotizontal',\n    safesearch: true,\n    q: text,\n  });\n  return fetch(`https://pixabay.com/api/?${params.toString()}`, options)\n    .then(response => {\n      if (!response.ok) {\n        throw response.status;\n      }\n      return response.json();\n    })\n    .catch(error => {\n      iziToast.error({ title: 'Error', message: error });\n    });\n};\n","import SimpleLightbox from 'simplelightbox';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nconst gallery = document.querySelector('.gallery');\n\nfunction createGalleryItem(item) {\n  return `<li>\n  <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n  <img class=\"gallery-image\" src=\"${item.previewURL}\" alt=\"${item.tags}\"/>\n  <ul class=\"statistic\">\n  <li>\n  <h3 class=\"statistic-title\">Likes</h3>\n  <p class=\"statistic-text\">${item.likes}</p>\n  </li>\n  <li>\n  <h3 class=\"statistic-title\">Views</h3>\n  <p class=\"statistic-text\">${item.views}</p>\n  </li>\n  <li>\n  <h3 class=\"statistic-title\">Comments</h3>\n  <p class=\"statistic-text\">${item.comments}</p>\n  </li>\n  <li>\n  <h3 class=\"statistic-title\"> Downloads</h3>\n  <p class=\"statistic-text\">${item.downloads}</p>\n  </li>\n  </ul>\n  </a>\n  </li>`;\n}\n\nexport function renderGallery(images) {\n  gallery.innerHTML = '';\n  if (images.length == 0) {\n    throw 'Sorry, there are no images matching your search query. Please try again!';\n  }\n  const galleryItems = images\n    .map(item => {\n      return createGalleryItem(item);\n    })\n    .join('');\n  gallery.innerHTML = galleryItems;\n  lightbox.refresh();\n}\n","import { searchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\n\nconst searchInut = document.querySelector('#search');\nconst loader = document.querySelector('.loader-wrapper');\n\ndocument.querySelector('.submit').addEventListener('click', event => {\n  event.preventDefault();\n  loader.style.display = 'block';\n  const result = searchImages(searchInut.value);\n  result\n    .then(data => {\n      renderGallery(data.hits);\n    })\n    .catch(error => {\n      iziToast.error({ title: 'Error', message: error });\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n});\n"],"names":["searchImages","text","options","params","response","error","iziToast","lightbox","SimpleLightbox","gallery","createGalleryItem","item","renderGallery","images","galleryItems","searchInut","loader","event","data"],"mappings":"6vBAEO,MAAMA,EAAeC,GAAQ,CAClC,MAAMC,EAAU,CACd,OAAQ,KACZ,EACQC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGF,CACP,CAAG,EACD,OAAO,MAAM,4BAA4BE,EAAO,SAAU,CAAA,GAAID,CAAO,EAClE,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAMA,EAAS,OAEjB,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,MAAM,CAAE,MAAO,QAAS,QAASD,CAAK,CAAE,CACvD,CAAK,CACL,ECrBME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EACKC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAkBC,EAAM,CAC/B,MAAO;AAAA,kCACyBA,EAAK,aAAa;AAAA,oCAChBA,EAAK,UAAU,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,8BAIxCA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,8BAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,8BAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,8BAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,QAK5C,CAEO,SAASC,EAAcC,EAAQ,CAEpC,GADAJ,EAAQ,UAAY,GAChBI,EAAO,QAAU,EACnB,KAAM,2EAER,MAAMC,EAAeD,EAClB,IAAIF,GACID,EAAkBC,CAAI,CAC9B,EACA,KAAK,EAAE,EACVF,EAAQ,UAAYK,EACpBP,EAAS,QAAO,CAClB,CC1CA,MAAMQ,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAS,SAAS,cAAc,iBAAiB,EAEvD,SAAS,cAAc,SAAS,EAAE,iBAAiB,QAASC,GAAS,CACnEA,EAAM,eAAc,EACpBD,EAAO,MAAM,QAAU,QACRhB,EAAae,EAAW,KAAK,EAEzC,KAAKG,GAAQ,CACZN,EAAcM,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMb,GAAS,CACdC,EAAS,MAAM,CAAE,MAAO,QAAS,QAASD,CAAK,CAAE,CACvD,CAAK,EACA,QAAQ,IAAM,CACbW,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAAC"}